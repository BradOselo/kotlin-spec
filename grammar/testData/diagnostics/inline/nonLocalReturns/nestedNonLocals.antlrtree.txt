File: nestedNonLocals.kt - 3f01585e56b67c3a1761af1c3a1b4788
  NL("\n")
  packageHeader
  importList
    importHeader
      IMPORT("import")
      identifier
        simpleIdentifier
          Identifier("Kind")
        DOT(".")
        simpleIdentifier
          Identifier("EXT_RETURN")
      semi
        NL("\n")
    importHeader
      IMPORT("import")
      identifier
        simpleIdentifier
          Identifier("Kind")
        DOT(".")
        simpleIdentifier
          Identifier("GLOBAL_RETURN")
      semi
        NL("\n")
        NL("\n")
  topLevelObject
    declaration
      classDeclaration
        modifiers
          modifier
            classModifier
              ENUM("enum")
        CLASS("class")
        simpleIdentifier
          Identifier("Kind")
        enumClassBody
          LCURL("{")
          NL("\n")
          enumEntries
            enumEntry
              simpleIdentifier
                Identifier("LOCAL")
            COMMA(",")
            NL("\n")
            enumEntry
              simpleIdentifier
                Identifier("EXT_RETURN")
            COMMA(",")
            NL("\n")
            enumEntry
              simpleIdentifier
                Identifier("GLOBAL_RETURN")
            NL("\n")
          RCURL("}")
    semis
      NL("\n")
      NL("\n")
  topLevelObject
    declaration
      classDeclaration
        CLASS("class")
        simpleIdentifier
          Identifier("Internal")
        primaryConstructor
          classParameters
            LPAREN("(")
            classParameter
              VAL("val")
              simpleIdentifier
                Identifier("value")
              COLON(":")
              type
                typeReference
                  userType
                    simpleUserType
                      simpleIdentifier
                        Identifier("String")
            RPAREN(")")
    semis
      NL("\n")
      NL("\n")
  topLevelObject
    declaration
      classDeclaration
        CLASS("class")
        simpleIdentifier
          Identifier("External")
        primaryConstructor
          classParameters
            LPAREN("(")
            classParameter
              VAL("val")
              simpleIdentifier
                Identifier("value")
              COLON(":")
              type
                typeReference
                  userType
                    simpleUserType
                      simpleIdentifier
                        Identifier("String")
            RPAREN(")")
    semis
      NL("\n")
      NL("\n")
  topLevelObject
    declaration
      classDeclaration
        CLASS("class")
        simpleIdentifier
          Identifier("Global")
        primaryConstructor
          classParameters
            LPAREN("(")
            classParameter
              VAL("val")
              simpleIdentifier
                Identifier("value")
              COLON(":")
              type
                typeReference
                  userType
                    simpleUserType
                      simpleIdentifier
                        Identifier("String")
            RPAREN(")")
    semis
      NL("\n")
      NL("\n")
  topLevelObject
    declaration
      functionDeclaration
        FUN("fun")
        simpleIdentifier
          Identifier("test1")
        functionValueParameters
          LPAREN("(")
          functionValueParameter
            parameter
              simpleIdentifier
                Identifier("intKind")
              COLON(":")
              type
                typeReference
                  userType
                    simpleUserType
                      simpleIdentifier
                        Identifier("Kind")
          COMMA(",")
          functionValueParameter
            parameter
              simpleIdentifier
                Identifier("extKind")
              COLON(":")
              type
                typeReference
                  userType
                    simpleUserType
                      simpleIdentifier
                        Identifier("Kind")
          RPAREN(")")
        COLON(":")
        type
          typeReference
            userType
              simpleUserType
                simpleIdentifier
                  Identifier("Global")
        functionBody
          block
            LCURL("{")
            NL("\n")
            NL("\n")
            statements
              statement
                declaration
                  propertyDeclaration
                    VAR("var")
                    variableDeclaration
                      simpleIdentifier
                        Identifier("externalResult")
                    ASSIGNMENT("=")
                    expression
                      expression
                        simpleIdentifier
                          Identifier("doCall")
                      unarySuffix
                        callSuffix
                          annotatedLambda
                            label
                              simpleIdentifier
                                Identifier("ext")
                              AT_POST_WS("@ ")
                            lambdaLiteral
                              LCURL("{")
                              NL("\n")
                              NL("\n")
                              statements
                                statement
                                  declaration
                                    propertyDeclaration
                                      VAL("val")
                                      variableDeclaration
                                        simpleIdentifier
                                          Identifier("internalResult")
                                      ASSIGNMENT("=")
                                      expression
                                        expression
                                          simpleIdentifier
                                            Identifier("doCall")
                                        unarySuffix
                                          callSuffix
                                            annotatedLambda
                                              label
                                                simpleIdentifier
                                                  Identifier("int")
                                                AT_POST_WS("@ ")
                                              lambdaLiteral
                                                LCURL("{")
                                                NL("\n")
                                                statements
                                                  statement
                                                    expression
                                                      ifExpression
                                                        IF("if")
                                                        LPAREN("(")
                                                        expression
                                                          expression
                                                            simpleIdentifier
                                                              Identifier("intKind")
                                                          equalityOperator
                                                            EQEQ("==")
                                                          expression
                                                            expression
                                                              simpleIdentifier
                                                                Identifier("Kind")
                                                            unarySuffix
                                                              navigationSuffix
                                                                memberAccessOperator
                                                                  DOT(".")
                                                                simpleIdentifier
                                                                  Identifier("LOCAL")
                                                        RPAREN(")")
                                                        controlStructureBody
                                                          block
                                                            LCURL("{")
                                                            NL("\n")
                                                            statements
                                                              statement
                                                                expression
                                                                  jumpExpression
                                                                    RETURN_AT("return@test1")
                                                                    expression
                                                                      expression
                                                                        simpleIdentifier
                                                                          Identifier("Global")
                                                                      unarySuffix
                                                                        callSuffix
                                                                          valueArguments
                                                                            LPAREN("(")
                                                                            valueArgument
                                                                              expression
                                                                                stringLiteral
                                                                                  lineStringLiteral
                                                                                    QUOTE_OPEN(""")
                                                                                    lineStringContent
                                                                                      LineStrText("internal to global")
                                                                                    QUOTE_CLOSE(""")
                                                                            RPAREN(")")
                                                              semis
                                                                NL("\n")
                                                            RCURL("}")
                                                        ELSE("else")
                                                        controlStructureBody
                                                          statement
                                                            expression
                                                              ifExpression
                                                                IF("if")
                                                                LPAREN("(")
                                                                expression
                                                                  expression
                                                                    simpleIdentifier
                                                                      Identifier("intKind")
                                                                  equalityOperator
                                                                    EQEQ("==")
                                                                  expression
                                                                    simpleIdentifier
                                                                      Identifier("EXT_RETURN")
                                                                RPAREN(")")
                                                                controlStructureBody
                                                                  block
                                                                    LCURL("{")
                                                                    NL("\n")
                                                                    statements
                                                                      statement
                                                                        expression
                                                                          jumpExpression
                                                                            RETURN_AT("return@ext")
                                                                            expression
                                                                              expression
                                                                                simpleIdentifier
                                                                                  Identifier("External")
                                                                              unarySuffix
                                                                                callSuffix
                                                                                  valueArguments
                                                                                    LPAREN("(")
                                                                                    valueArgument
                                                                                      expression
                                                                                        stringLiteral
                                                                                          lineStringLiteral
                                                                                            QUOTE_OPEN(""")
                                                                                            lineStringContent
                                                                                              LineStrText("internal to external")
                                                                                            QUOTE_CLOSE(""")
                                                                                    RPAREN(")")
                                                                      semis
                                                                        NL("\n")
                                                                    RCURL("}")
                                                  semis
                                                    NL("\n")
                                                  statement
                                                    expression
                                                      jumpExpression
                                                        RETURN_AT("return@int")
                                                        expression
                                                          expression
                                                            simpleIdentifier
                                                              Identifier("Internal")
                                                          unarySuffix
                                                            callSuffix
                                                              valueArguments
                                                                LPAREN("(")
                                                                valueArgument
                                                                  expression
                                                                    stringLiteral
                                                                      lineStringLiteral
                                                                        QUOTE_OPEN(""")
                                                                        lineStringContent
                                                                          LineStrText("internal to local")
                                                                        QUOTE_CLOSE(""")
                                                                RPAREN(")")
                                                  semis
                                                    NL("\n")
                                                RCURL("}")
                                      NL("\n")
                                semis
                                  NL("\n")
                                statement
                                  expression
                                    ifExpression
                                      IF("if")
                                      LPAREN("(")
                                      expression
                                        expression
                                          expression
                                            simpleIdentifier
                                              Identifier("extKind")
                                          equalityOperator
                                            EQEQ("==")
                                          expression
                                            simpleIdentifier
                                              Identifier("GLOBAL_RETURN")
                                        DISJ("||")
                                        expression
                                          expression
                                            simpleIdentifier
                                              Identifier("extKind")
                                          equalityOperator
                                            EQEQ("==")
                                          expression
                                            simpleIdentifier
                                              Identifier("EXT_RETURN")
                                      RPAREN(")")
                                      controlStructureBody
                                        block
                                          LCURL("{")
                                          NL("\n")
                                          statements
                                            statement
                                              expression
                                                jumpExpression
                                                  RETURN("return")
                                                  expression
                                                    expression
                                                      simpleIdentifier
                                                        Identifier("Global")
                                                    unarySuffix
                                                      callSuffix
                                                        valueArguments
                                                          LPAREN("(")
                                                          valueArgument
                                                            expression
                                                              stringLiteral
                                                                lineStringLiteral
                                                                  QUOTE_OPEN(""")
                                                                  lineStringContent
                                                                    LineStrText("external to global")
                                                                  QUOTE_CLOSE(""")
                                                          RPAREN(")")
                                            semis
                                              NL("\n")
                                          RCURL("}")
                                semis
                                  NL("\n")
                                  NL("\n")
                                statement
                                  expression
                                    expression
                                      simpleIdentifier
                                        Identifier("External")
                                    unarySuffix
                                      callSuffix
                                        valueArguments
                                          LPAREN("(")
                                          valueArgument
                                            expression
                                              expression
                                                expression
                                                  simpleIdentifier
                                                    Identifier("internalResult")
                                                unarySuffix
                                                  navigationSuffix
                                                    memberAccessOperator
                                                      DOT(".")
                                                    simpleIdentifier
                                                      Identifier("value")
                                              additiveOperator
                                                ADD("+")
                                              expression
                                                stringLiteral
                                                  lineStringLiteral
                                                    QUOTE_OPEN(""")
                                                    lineStringContent
                                                      LineStrText(" to local")
                                                    QUOTE_CLOSE(""")
                                          RPAREN(")")
                                semis
                                  SEMICOLON(";")
                                  NL("\n")
                              RCURL("}")
                    NL("\n")
              semis
                NL("\n")
              statement
                expression
                  jumpExpression
                    RETURN("return")
                    expression
                      expression
                        simpleIdentifier
                          Identifier("Global")
                      unarySuffix
                        callSuffix
                          valueArguments
                            LPAREN("(")
                            valueArgument
                              expression
                                expression
                                  expression
                                    simpleIdentifier
                                      Identifier("externalResult")
                                  unarySuffix
                                    navigationSuffix
                                      memberAccessOperator
                                        DOT(".")
                                      simpleIdentifier
                                        Identifier("value")
                                additiveOperator
                                  ADD("+")
                                expression
                                  stringLiteral
                                    lineStringLiteral
                                      QUOTE_OPEN(""")
                                      lineStringContent
                                        LineStrText(" to exit")
                                      QUOTE_CLOSE(""")
                            RPAREN(")")
              semis
                NL("\n")
            RCURL("}")
    semis
      NL("\n")
      NL("\n")
  topLevelObject
    declaration
      functionDeclaration
        modifiers
          modifier
            visibilityModifier
              PUBLIC("public")
          modifier
            functionModifier
              INLINE("inline")
        FUN("fun")
        typeParameters
          LANGLE("<")
          typeParameter
            simpleIdentifier
              Identifier("R")
          RANGLE(">")
        simpleIdentifier
          Identifier("doCall")
        functionValueParameters
          LPAREN("(")
          functionValueParameter
            parameter
              simpleIdentifier
                Identifier("block")
              COLON(":")
              type
                functionType
                  functionTypeParameters
                    LPAREN("(")
                    RPAREN(")")
                  ARROW("->")
                  type
                    typeReference
                      userType
                        simpleUserType
                          simpleIdentifier
                            Identifier("R")
          RPAREN(")")
        COLON(":")
        type
          typeReference
            userType
              simpleUserType
                simpleIdentifier
                  Identifier("R")
        functionBody
          block
            LCURL("{")
            NL("\n")
            statements
              statement
                expression
                  jumpExpression
                    RETURN("return")
                    expression
                      expression
                        simpleIdentifier
                          Identifier("block")
                      unarySuffix
                        callSuffix
                          valueArguments
                            LPAREN("(")
                            RPAREN(")")
              semis
                NL("\n")
            RCURL("}")
    semis
      NL("\n")
  EOF("<EOF>")
