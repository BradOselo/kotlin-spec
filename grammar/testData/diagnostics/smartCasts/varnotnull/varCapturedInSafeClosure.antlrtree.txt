File: varCapturedInSafeClosure.kt - b2b4c8c4eb1374ff0bf98d253727be9f
  packageHeader
  importList
  topLevelObject
    declaration
      functionDeclaration
        modifiers
          modifier
            visibilityModifier
              PUBLIC("public")
        FUN("fun")
        simpleIdentifier
          Identifier("foo")
        functionValueParameters
          LPAREN("(")
          RPAREN(")")
        functionBody
          block
            LCURL("{")
            NL("\n")
            statements
              statement
                declaration
                  propertyDeclaration
                    VAR("var")
                    variableDeclaration
                      simpleIdentifier
                        Identifier("s")
                      COLON(":")
                      type
                        nullableType
                          typeReference
                            userType
                              simpleUserType
                                simpleIdentifier
                                  Identifier("String")
                          quest
                            QUEST_WS("? ")
                    ASSIGNMENT("=")
                    expression
                      stringLiteral
                        lineStringLiteral
                          QUOTE_OPEN(""")
                          QUOTE_CLOSE(""")
              semis
                NL("\n")
              statement
                declaration
                  functionDeclaration
                    FUN("fun")
                    simpleIdentifier
                      Identifier("closure")
                    functionValueParameters
                      LPAREN("(")
                      RPAREN(")")
                    COLON(":")
                    type
                      typeReference
                        userType
                          simpleUserType
                            simpleIdentifier
                              Identifier("Int")
                    functionBody
                      block
                        LCURL("{")
                        NL("\n")
                        statements
                          statement
                            expression
                              ifExpression
                                IF("if")
                                LPAREN("(")
                                expression
                                  expression
                                    simpleIdentifier
                                      Identifier("s")
                                  equalityOperator
                                    EQEQ("==")
                                  expression
                                    literalConstant
                                      NullLiteral("null")
                                RPAREN(")")
                                controlStructureBody
                                  block
                                    LCURL("{")
                                    NL("\n")
                                    statements
                                      statement
                                        expression
                                          jumpExpression
                                            RETURN("return")
                                            expression
                                              unaryPrefix
                                                prefixUnaryOperator
                                                  SUB("-")
                                              expression
                                                literalConstant
                                                  IntegerLiteral("1")
                                      semis
                                        NL("\n")
                                    RCURL("}")
                                ELSE("else")
                                controlStructureBody
                                  block
                                    LCURL("{")
                                    NL("\n")
                                    statements
                                      statement
                                        expression
                                          jumpExpression
                                            RETURN("return")
                                            expression
                                              literalConstant
                                                IntegerLiteral("0")
                                      semis
                                        NL("\n")
                                    RCURL("}")
                          semis
                            NL("\n")
                        RCURL("}")
              semis
                NL("\n")
              statement
                expression
                  ifExpression
                    IF("if")
                    LPAREN("(")
                    expression
                      expression
                        simpleIdentifier
                          Identifier("s")
                      equalityOperator
                        EXCL_EQ("!=")
                      expression
                        literalConstant
                          NullLiteral("null")
                    RPAREN(")")
                    controlStructureBody
                      block
                        LCURL("{")
                        NL("\n")
                        statements
                          statement
                            expression
                              expression
                                simpleIdentifier
                                  Identifier("System")
                              unarySuffix
                                navigationSuffix
                                  memberAccessOperator
                                    DOT(".")
                                  simpleIdentifier
                                    OUT("out")
                              unarySuffix
                                navigationSuffix
                                  memberAccessOperator
                                    DOT(".")
                                  simpleIdentifier
                                    Identifier("println")
                              unarySuffix
                                callSuffix
                                  valueArguments
                                    LPAREN("(")
                                    valueArgument
                                      expression
                                        expression
                                          simpleIdentifier
                                            Identifier("closure")
                                        unarySuffix
                                          callSuffix
                                            valueArguments
                                              LPAREN("(")
                                              RPAREN(")")
                                    RPAREN(")")
                          semis
                            NL("\n")
                            NL("\n")
                          statement
                            expression
                              expression
                                simpleIdentifier
                                  Identifier("System")
                              unarySuffix
                                navigationSuffix
                                  memberAccessOperator
                                    DOT(".")
                                  simpleIdentifier
                                    OUT("out")
                              unarySuffix
                                navigationSuffix
                                  memberAccessOperator
                                    DOT(".")
                                  simpleIdentifier
                                    Identifier("println")
                              unarySuffix
                                callSuffix
                                  valueArguments
                                    LPAREN("(")
                                    valueArgument
                                      expression
                                        expression
                                          simpleIdentifier
                                            Identifier("s")
                                        unarySuffix
                                          navigationSuffix
                                            memberAccessOperator
                                              DOT(".")
                                            simpleIdentifier
                                              Identifier("length")
                                    RPAREN(")")
                          semis
                            NL("\n")
                        RCURL("}")
              semis
                NL("\n")
            RCURL("}")
    semis
      EOF("<EOF>")
  EOF("<EOF>")
